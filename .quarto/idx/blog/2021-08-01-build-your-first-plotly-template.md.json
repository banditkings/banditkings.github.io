{"title":"Making a Basic Corporate Plotly Template","markdown":{"yaml":{"title":"Making a Basic Corporate Plotly Template","date":"2021-08-01","tags":["python","plotly"],"categories":["dataviz"],"summary":"TLDR on how to make a corporate themed plotly template","image":"/static/images/plotly_template_example.gif","canonicalUrl":"https://www.nelsontang.com/blog/2021-08-01-build...irst-plotly-template"},"headingText":"`my_template.py`:","containsRefs":false,"markdown":"\n\nI got a little lost reading the plotly docs on saving a custom plotly template, so here's a basic skeleton of a template inspired by [Nike's 10K](https://investors.nike.com/investors/news-events-and-reports/default.aspx) that you can use to customize basic plot colors, fonts, and show you how the template is structured. I also structured the code to be a little more readible for me since I didn't like their use of both `dict` and their 'magic underscore notation' which made things more confusing. When you make a template IRL they are going to be pretty verbose and magic underscore notation is not helpful.\n\nHere's the example. Oh, and you should save it as a file like `my_template.py` so you can share it as an internal package that people can install with pip or something:\n\n\n```python\nimport plotly.graph_objects as go\nimport plotly.io as pio\n\npio.templates[\"nike\"] = go.layout.Template(\n    # LAYOUT\n    layout = {\n        # Fonts\n        # Note - 'family' must be a single string, NOT a list or dict!\n        'title':\n            {'font': {'family': 'HelveticaNeue-CondensedBold, Helvetica, Sans-serif',\n                      'size':30,\n                      'color': '#333'}\n            },\n        'font': {'family': 'Helvetica Neue, Helvetica, Sans-serif',\n                      'size':16,\n                      'color': '#333'},\n        # Colorways\n        'colorway': ['#ec7424', '#a4abab'],\n        # Keep adding others as needed below\n        'hovermode': 'x unified'\n    },\n    # DATA\n    data = {\n        # Each graph object must be in a tuple or list for each trace\n        'bar': [go.Bar(texttemplate = '%{value:$.2s}',\n                       textposition='outside',\n                       textfont={'family': 'Helvetica Neue, Helvetica, Sans-serif',\n                                 'size': 20,\n                                 'color': '#FFFFFF'\n                                 })]\n    }\n)\n```\n\n## Layout: Choose Fonts and Colors\n\nThe first thing I do when building out a template `layout` is I get inspiration from a company's 10k/10Q financial filings and their branding to get their fonts and colors. Google '(company name) investor relations' and that'll take you to a site where they have a bunch of their financial statements and letters to shareholders and such.\n\n- **Fonts**:\n\n  - Either take a screenshot of the font and run it through a font identifier like [FontSquirrell's matcherator](https://www.fontsquirrel.com/matcherator) (hit or miss)\n  - Open their site in Chrome, highlight the font text and then hit 'inspect' to get the Styles for `font-family`, etc.\n\n- **Colors**: I will take a screenshot and run it through a color picker site like [imagecolorpicker.com](https://imagecolorpicker.com) that will try to get the hex codes ordered from left to right based on the proportion of the color in the image. These would then go to your `colorway` as items in a list in a similar order.\n  - Alternatively, here's a great article on [How to make a color palette from 1 color](https://medium.com/@greggunn/how-to-make-your-own-color-palettes-712959fbf021) or [this shorter article from Kaggle](https://www.kaggle.com/competitions/AI4Code/discussion/327996)\n\nThere's a ton of other options to choose from in the `layout` section, [check the official layout Docs](https://plotly.com/python/reference/layout/).\n\n## Data: Add chart-specific styling\n\nThe `data` property is used for specific `plotly.graph_objects` styling, like for bar charts and stuff.\n\nFor the full list of options for each item in the 'data' property, you'll need to read the plotly documentation for each graph object (i.e. for bar plots look up [graph_objects.bar](https://plotly.com/python-api-reference/generated/plotly.graph_objects.Bar.html)) and go from there.\n\n## Protip: Practice with built-in Plotly datasets\n\nPlotly has a bunch of built-in datasets that you should practice with when building POC's, but the list is hard to find. [Here's the API reference](https://plotly.com/python-api-reference/generated/plotly.data.html).\n\n## Finished Example:\n\n```python\nimport plotly.express as px\nimport my_template # Import your template here\n\n# load demo data\nfrom plotly.data import tips\ndf = tips()\ndf = df[['smoker', 'size', 'tip']].groupby(by=['smoker', 'size'], as_index=False).mean()\n\n# Plot with the new template\nfig = px.bar(df, x='size', y='tip', color='smoker',\n             template='nike', title='Template Example')\nfig.show()\n```\n\n![img](/static/images/plotly_template_example.gif)\n\n_Tested on Plotly 4.14.3_\n\nReference:\n\n1. [Plotly Theming and Templates docs](https://plotly.com/python/templates/)\n2. [Plotly text and annotation docs](https://plotly.com/python/text-and-annotations/)\n3. [Plotly Datasets](https://plotly.com/python-api-reference/generated/plotly.data.html)\n","srcMarkdownNoYaml":"\n\nI got a little lost reading the plotly docs on saving a custom plotly template, so here's a basic skeleton of a template inspired by [Nike's 10K](https://investors.nike.com/investors/news-events-and-reports/default.aspx) that you can use to customize basic plot colors, fonts, and show you how the template is structured. I also structured the code to be a little more readible for me since I didn't like their use of both `dict` and their 'magic underscore notation' which made things more confusing. When you make a template IRL they are going to be pretty verbose and magic underscore notation is not helpful.\n\nHere's the example. Oh, and you should save it as a file like `my_template.py` so you can share it as an internal package that people can install with pip or something:\n\n### `my_template.py`:\n\n```python\nimport plotly.graph_objects as go\nimport plotly.io as pio\n\npio.templates[\"nike\"] = go.layout.Template(\n    # LAYOUT\n    layout = {\n        # Fonts\n        # Note - 'family' must be a single string, NOT a list or dict!\n        'title':\n            {'font': {'family': 'HelveticaNeue-CondensedBold, Helvetica, Sans-serif',\n                      'size':30,\n                      'color': '#333'}\n            },\n        'font': {'family': 'Helvetica Neue, Helvetica, Sans-serif',\n                      'size':16,\n                      'color': '#333'},\n        # Colorways\n        'colorway': ['#ec7424', '#a4abab'],\n        # Keep adding others as needed below\n        'hovermode': 'x unified'\n    },\n    # DATA\n    data = {\n        # Each graph object must be in a tuple or list for each trace\n        'bar': [go.Bar(texttemplate = '%{value:$.2s}',\n                       textposition='outside',\n                       textfont={'family': 'Helvetica Neue, Helvetica, Sans-serif',\n                                 'size': 20,\n                                 'color': '#FFFFFF'\n                                 })]\n    }\n)\n```\n\n## Layout: Choose Fonts and Colors\n\nThe first thing I do when building out a template `layout` is I get inspiration from a company's 10k/10Q financial filings and their branding to get their fonts and colors. Google '(company name) investor relations' and that'll take you to a site where they have a bunch of their financial statements and letters to shareholders and such.\n\n- **Fonts**:\n\n  - Either take a screenshot of the font and run it through a font identifier like [FontSquirrell's matcherator](https://www.fontsquirrel.com/matcherator) (hit or miss)\n  - Open their site in Chrome, highlight the font text and then hit 'inspect' to get the Styles for `font-family`, etc.\n\n- **Colors**: I will take a screenshot and run it through a color picker site like [imagecolorpicker.com](https://imagecolorpicker.com) that will try to get the hex codes ordered from left to right based on the proportion of the color in the image. These would then go to your `colorway` as items in a list in a similar order.\n  - Alternatively, here's a great article on [How to make a color palette from 1 color](https://medium.com/@greggunn/how-to-make-your-own-color-palettes-712959fbf021) or [this shorter article from Kaggle](https://www.kaggle.com/competitions/AI4Code/discussion/327996)\n\nThere's a ton of other options to choose from in the `layout` section, [check the official layout Docs](https://plotly.com/python/reference/layout/).\n\n## Data: Add chart-specific styling\n\nThe `data` property is used for specific `plotly.graph_objects` styling, like for bar charts and stuff.\n\nFor the full list of options for each item in the 'data' property, you'll need to read the plotly documentation for each graph object (i.e. for bar plots look up [graph_objects.bar](https://plotly.com/python-api-reference/generated/plotly.graph_objects.Bar.html)) and go from there.\n\n## Protip: Practice with built-in Plotly datasets\n\nPlotly has a bunch of built-in datasets that you should practice with when building POC's, but the list is hard to find. [Here's the API reference](https://plotly.com/python-api-reference/generated/plotly.data.html).\n\n## Finished Example:\n\n```python\nimport plotly.express as px\nimport my_template # Import your template here\n\n# load demo data\nfrom plotly.data import tips\ndf = tips()\ndf = df[['smoker', 'size', 'tip']].groupby(by=['smoker', 'size'], as_index=False).mean()\n\n# Plot with the new template\nfig = px.bar(df, x='size', y='tip', color='smoker',\n             template='nike', title='Template Example')\nfig.show()\n```\n\n![img](/static/images/plotly_template_example.gif)\n\n_Tested on Plotly 4.14.3_\n\nReference:\n\n1. [Plotly Theming and Templates docs](https://plotly.com/python/templates/)\n2. [Plotly text and annotation docs](https://plotly.com/python/text-and-annotations/)\n3. [Plotly Datasets](https://plotly.com/python-api-reference/generated/plotly.data.html)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../styles.css"],"output-file":"2021-08-01-build-your-first-plotly-template.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.52","theme":{"light":"cosmo"},"title-block-banner":true,"title":"Making a Basic Corporate Plotly Template","date":"2021-08-01","tags":["python","plotly"],"categories":["dataviz"],"summary":"TLDR on how to make a corporate themed plotly template","image":"/static/images/plotly_template_example.gif","canonicalUrl":"https://www.nelsontang.com/blog/2021-08-01-build...irst-plotly-template"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}